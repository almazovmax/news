{% extends 'base.html.twig' %}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('js/bootstrap.file_input.js') }}"></script>
{% endblock %}

{% block stylesheet %}
    {{ parent() }}
    <link href="{{ asset('css/bootstrap.file_input.css') }}" rel="stylesheet" type="text/css" media="all" />
{% endblock %}

{% block body %}
    <div class="container">
        <div class="col-md-8 col-md-offset-2 technology-left">
            <div class="blog">
                <h2 class="text-center">Edit news ID {{ edit_form.vars.value.id }}</h2>
                {{ form_start(edit_form) }}
                <div class="form-group">
                    {{ form_row(edit_form.header, {
                        'attr': {
                            'class':'form-control'
                        }
                    }) }}
                </div>
                <div class="form-group">
                    {{ form_row(edit_form.description, {
                        'attr': {
                            'rows': 4,
                            'class':'form-control'
                        }
                    }) }}
                </div>
                <div class="form-group">
                    {{ form_row(edit_form.text, {
                        'attr': {
                            'rows': 8,
                            'class':'form-control'
                        }
                    }) }}
                    {{ form_row(edit_form._token) }}
                </div>
                <div class="input-group image-preview">
                    <input type="text" class="form-control image-preview-filename" disabled="disabled">
                    <span class="input-group-btn">
                <button type="button" class="btn btn-default image-preview-clear" style="display:none;">
                    <span class="glyphicon glyphicon-remove"></span> Clear
                </button>
                <div class="btn btn-default image-preview-input">
                    <span class="glyphicon glyphicon-folder-open"></span>
                    <span class="image-preview-input-title">Browse</span>
                    {{ form_row(edit_form.image, {
                        'label_attr':{
                            'class': 'sr-only'
                        },
                        required: false,
                    }) }}
                </div>
                </span>
                </div>
                <small class="form-text text-muted">If you don't want change <abbr id="popover" rel="popover" title="Current image">current image</abbr> leave this field empty</small>
                <script type="text/javascript">
                    $(document).ready(function() {
                        var image = '<img style="width: 240px; height: 135px;" class="img-rounded" src="{{ asset(edit_form.image.vars.data) }}">';
                        $('#popover').popover({
                            trigger: 'hover',
                            animation: true,
                            placement: 'auto',
                            content: image,
                            html: true
                        });
                    });
                </script>
                <hr>
                <div class="col-md-6 text-left">
                    <input class="btn btn-success" type="submit" value="Update" />
                    {{ form_end(edit_form, {'render_rest': false}) }}
                </div>
                <div class="col-md-6 text-right">
                    <a href="{{ path('news_index') }}">Back to the list</a>
                </div>
                <div class="clearfix"> </div>
            </div>
        </div>
    </div>
{% endblock %}
